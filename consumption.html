<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quantité consommée</title>
    <link rel="stylesheet" href="consumption.css">
</head>
<body>
    <!-- Header -->
    <header class="top-header">
        <div class="product-name"></div>
    </header>

    <main class="container">
        <!-- Quantity Section -->
        <section class="quantity-section">
            <h2 class="section-title">Quantité consommée</h2>
            <div class="quantity-controls">
                <button class="quantity-button decrease">-</button>
                <span class="quantity-value">1</span>
                <button class="quantity-button increase">+</button>
            </div>
        </section>

        <!-- Photo Section -->
        <section class="photo-section">
            <h2 class="section-title">Prendre une photo de l'étiquette</h2>
            <div class="camera-container" style="display: none;">
                <video id="camera" autoplay playsinline></video>
                <canvas id="canvas" style="display: none;"></canvas>
            </div>
            
            <!-- Photo Preview -->
            <div class="photo-preview" style="display: none;">
                <img id="captured-image" alt="Photo prise">
                <button class="replace-photo-button">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"/></svg>
                    Remplacer la photo
                </button>
            </div>

            <div class="camera-controls">
                <button class="photo-button" id="start-camera">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"/><circle cx="12" cy="13" r="3"/></svg>
                    Photo
                </button>
                <div class="active-camera-controls" style="display: none;">
                    <button class="camera-button" id="flip-camera">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/><path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"/><path d="M21 21v-5h-5"/></svg>
                        Retourner
                    </button>
                    <button class="photo-button" id="take-photo">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"/><circle cx="12" cy="13" r="3"/></svg>
                        Photo
                    </button>
                </div>
            </div>
        </section>

        <p class="info-text">
            Pour valider l'enregistrement de la traçabilité, veuillez indiquer au choix : Date d'expiration, N° de lot ou photographiez l'étiquette
        </p>

        <!-- Optional Information -->
        <section class="optional-section">
            <h2 class="section-title">Informations optionnelles</h2>
            <div class="input-group">
                <div class="input-wrapper">
                    <svg class="input-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
                    <input type="date" id="dlc" class="input-field" placeholder="DLC">
                </div>
                <div class="input-wrapper">
                    <span class="input-icon">#</span>
                    <input type="text" id="lot-number" class="input-field" placeholder="N° de lot">
                </div>
            </div>
        </section>
    </main>

    <!-- Bottom Buttons -->
    <div class="bottom-buttons">
        <button class="cancel-button">Annuler</button>
        <button class="continue-button">Continuer</button>
    </div>

    <script src="consumption.js"></script>
</body>
</html>